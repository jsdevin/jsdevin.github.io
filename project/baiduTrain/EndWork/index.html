<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/nuddles.png"><title>结课作业：实现一个简单的 MVVM 框架 | Devin's Blog</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.fe9e5216.js"><link rel="modulepreload" href="/assets/index.html.a4693d77.js"><link rel="modulepreload" href="/assets/index.html.a9ba0a0a.js"><link rel="prefetch" href="/assets/index.html.3f80b286.js"><link rel="prefetch" href="/assets/index.html.a144ff27.js"><link rel="prefetch" href="/assets/index.html.13d6f4dc.js"><link rel="prefetch" href="/assets/01-项目搭建规范.html.77145910.js"><link rel="prefetch" href="/assets/02-登录页面UI实现.html.b728cdc8.js"><link rel="prefetch" href="/assets/03-登录页面的逻辑.html.bbb15a30.js"><link rel="prefetch" href="/assets/04-首页UI的实现.html.8f0dba9a.js"><link rel="prefetch" href="/assets/index.html.afc4f79e.js"><link rel="prefetch" href="/assets/动态路由.html.64a136e7.js"><link rel="prefetch" href="/assets/权限管理.html.dca0e737.js"><link rel="prefetch" href="/assets/html笔记.html.d4d6a791.js"><link rel="prefetch" href="/assets/CSS_Flex布局.html.e38f3806.js"><link rel="prefetch" href="/assets/CSS总结.html.b324dbe0.js"><link rel="prefetch" href="/assets/JS基础扫盲.html.480382d0.js"><link rel="prefetch" href="/assets/JS常见问题-ES6.html.1141614f.js"><link rel="prefetch" href="/assets/axios.html.357ca0a9.js"><link rel="prefetch" href="/assets/Promise.html.dedc0a06.js"><link rel="prefetch" href="/assets/tabbar.html.a3f927dc.js"><link rel="prefetch" href="/assets/webpack.html.6227f689.js"><link rel="prefetch" href="/assets/01.内置类型-typeof-类型转换-深浅拷贝.html.702caa23.js"><link rel="prefetch" href="/assets/02.原型-new-instanceof-this-执行上下文.html.bf2d8725.js"><link rel="prefetch" href="/assets/03.闭包-模块化-防抖-节流-继承.html.339dfaa9.js"><link rel="prefetch" href="/assets/04.call、apply、bind、Promise、async、await、迭代器、生成器、Proxy.html.f6775a09.js"><link rel="prefetch" href="/assets/index.html.5fdb7f99.js"><link rel="prefetch" href="/assets/index.html.0077214b.js"><link rel="prefetch" href="/assets/vue-cli.html.aa2e91a7.js"><link rel="prefetch" href="/assets/vue-router.html.a55304f9.js"><link rel="prefetch" href="/assets/vue2概览.html.9b606f9b.js"><link rel="prefetch" href="/assets/Vuex.html.a772bf71.js"><link rel="prefetch" href="/assets/vue基础.html.98b9a7c9.js"><link rel="prefetch" href="/assets/Vue常用语法和命令.html.ef32858a.js"><link rel="prefetch" href="/assets/vue3(基于vue2学习).html.fc8dc3d2.js"><link rel="prefetch" href="/assets/使用Proxy实现数据劫持.html.c3048703.js"><link rel="prefetch" href="/assets/发布订阅模式.html.6b994a01.js"><link rel="prefetch" href="/assets/单向绑定.html.7d51fd4a.js"><link rel="prefetch" href="/assets/双向绑定.html.81241639.js"><link rel="prefetch" href="/assets/项目笔记.html.2aef7be0.js"><link rel="prefetch" href="/assets/项目笔记.html.7f62d21a.js"><link rel="prefetch" href="/assets/项目笔记.html.b310ee0c.js"><link rel="prefetch" href="/assets/项目笔记.html.033f5664.js"><link rel="prefetch" href="/assets/项目笔记.html.480ad626.js"><link rel="prefetch" href="/assets/项目笔记.html.af2c9f1b.js"><link rel="prefetch" href="/assets/项目笔记.html.dfb9b81e.js"><link rel="prefetch" href="/assets/项目笔记.html.878c1fde.js"><link rel="prefetch" href="/assets/项目笔记.html.76b3c8d1.js"><link rel="prefetch" href="/assets/项目笔记.html.88b7b0a8.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.a631d4d7.js"><link rel="prefetch" href="/assets/index.html.05359510.js"><link rel="prefetch" href="/assets/index.html.abdfa5c1.js"><link rel="prefetch" href="/assets/01-项目搭建规范.html.578f1ce7.js"><link rel="prefetch" href="/assets/02-登录页面UI实现.html.07889cba.js"><link rel="prefetch" href="/assets/03-登录页面的逻辑.html.8faa818c.js"><link rel="prefetch" href="/assets/04-首页UI的实现.html.b98126b0.js"><link rel="prefetch" href="/assets/index.html.673037e3.js"><link rel="prefetch" href="/assets/动态路由.html.5dd3f026.js"><link rel="prefetch" href="/assets/权限管理.html.70e2cccb.js"><link rel="prefetch" href="/assets/html笔记.html.c1f8a443.js"><link rel="prefetch" href="/assets/CSS_Flex布局.html.8e330cf9.js"><link rel="prefetch" href="/assets/CSS总结.html.4d945f8c.js"><link rel="prefetch" href="/assets/JS基础扫盲.html.d0333fec.js"><link rel="prefetch" href="/assets/JS常见问题-ES6.html.2748f5e6.js"><link rel="prefetch" href="/assets/axios.html.c840d1cc.js"><link rel="prefetch" href="/assets/Promise.html.78baf1c6.js"><link rel="prefetch" href="/assets/tabbar.html.e370da4d.js"><link rel="prefetch" href="/assets/webpack.html.be30d8c7.js"><link rel="prefetch" href="/assets/01.内置类型-typeof-类型转换-深浅拷贝.html.19c4bf1c.js"><link rel="prefetch" href="/assets/02.原型-new-instanceof-this-执行上下文.html.c910acf4.js"><link rel="prefetch" href="/assets/03.闭包-模块化-防抖-节流-继承.html.a7f1a0ee.js"><link rel="prefetch" href="/assets/04.call、apply、bind、Promise、async、await、迭代器、生成器、Proxy.html.44645141.js"><link rel="prefetch" href="/assets/index.html.64249f79.js"><link rel="prefetch" href="/assets/index.html.25ec6fc2.js"><link rel="prefetch" href="/assets/vue-cli.html.31b8c71c.js"><link rel="prefetch" href="/assets/vue-router.html.8f33e4ec.js"><link rel="prefetch" href="/assets/vue2概览.html.78ac8cd4.js"><link rel="prefetch" href="/assets/Vuex.html.2f4f3ec3.js"><link rel="prefetch" href="/assets/vue基础.html.17293e1a.js"><link rel="prefetch" href="/assets/Vue常用语法和命令.html.e6bc8274.js"><link rel="prefetch" href="/assets/vue3(基于vue2学习).html.fdb96340.js"><link rel="prefetch" href="/assets/使用Proxy实现数据劫持.html.83a7d6de.js"><link rel="prefetch" href="/assets/发布订阅模式.html.a38349b2.js"><link rel="prefetch" href="/assets/单向绑定.html.76370bc9.js"><link rel="prefetch" href="/assets/双向绑定.html.ab5ed573.js"><link rel="prefetch" href="/assets/项目笔记.html.dd6103d1.js"><link rel="prefetch" href="/assets/项目笔记.html.b89ce409.js"><link rel="prefetch" href="/assets/项目笔记.html.d1ce8b27.js"><link rel="prefetch" href="/assets/项目笔记.html.bb79c8aa.js"><link rel="prefetch" href="/assets/项目笔记.html.447521e9.js"><link rel="prefetch" href="/assets/项目笔记.html.f30141bf.js"><link rel="prefetch" href="/assets/项目笔记.html.8d88f15e.js"><link rel="prefetch" href="/assets/项目笔记.html.668564b2.js"><link rel="prefetch" href="/assets/项目笔记.html.43e96254.js"><link rel="prefetch" href="/assets/项目笔记.html.6563c605.js"><link rel="prefetch" href="/assets/404.html.038674e4.js"><link rel="prefetch" href="/assets/404.fadb50ec.js"><link rel="prefetch" href="/assets/Layout.d51ecb60.js">
    <link rel="stylesheet" href="/assets/style.acf36ec1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="https://img.tt98.com/d/file/biaoqing/20191107/12.gif" alt="Devin&#39;s Blog"><span class="site-name can-hide">Devin&#39;s Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="百度前端训练营作品"><span class="title">百度前端训练营作品</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="百度前端训练营作品"><span class="title">百度前端训练营作品</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>百度前端训练营</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E7%94%A8HTML%E5%AE%9E%E7%8E%B0%E4%BF%A1%E4%BB%B6demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="用HTML实现信件demo"><!--[--><!--]--> 用HTML实现信件demo <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E5%AE%9E%E7%8E%B0loading%E5%8A%A8%E7%94%BB/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现loading动画"><!--[--><!--]--> 实现loading动画 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E8%AE%B0%E4%BA%8B%E6%9C%AC/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="使用flex布局完成记事本"><!--[--><!--]--> 使用flex布局完成记事本 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E7%94%A8JS%E6%95%B0%E7%BB%84%E7%94%9F%E6%88%90HTML%E5%AD%97%E7%AC%A6/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="用JS数组生成HTML字符"><!--[--><!--]--> 用JS数组生成HTML字符 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E4%BB%BB%E6%84%8F%E5%B1%82%E7%BA%A7%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%91%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="任意层级的文件树数组转换为字符串"><!--[--><!--]--> 任意层级的文件树数组转换为字符串 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现深拷贝"><!--[--><!--]--> 实现深拷贝 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E6%95%B0%E5%AD%97%E6%97%B6%E9%92%9F/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="动态时钟"><!--[--><!--]--> 动态时钟 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/ToDoList/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="ToDoList"><!--[--><!--]--> ToDoList <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day4/%E5%AE%9E%E7%8E%B0%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%88%B0%E5%88%97%E8%A1%A8/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现添加一行数据到表格"><!--[--><!--]--> 实现添加一行数据到表格 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/01-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81/%E4%BD%BF%E7%94%A8Proxy%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81.html" class="" aria-label="学习：MVVM 数据劫持的实现"><!--[--><!--]--> 学习：MVVM 数据劫持的实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/02-%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html" class="" aria-label="学习：MVVM 发布订阅模式"><!--[--><!--]--> 学习：MVVM 发布订阅模式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/03-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A.html" class="" aria-label="学习：MVVM 数据单向绑定"><!--[--><!--]--> 学习：MVVM 数据单向绑定 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/04-%E5%AD%A6%E4%B9%A0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" class="" aria-label="学习：MVVM 数据双向绑定"><!--[--><!--]--> 学习：MVVM 数据双向绑定 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/project/baiduTrain/EndWork/" class="router-link-active router-link-exact-active router-link-active" aria-label="结课作业：实现一个简单的 MVVM 框架"><!--[--><!--]--> 结课作业：实现一个简单的 MVVM 框架 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="入门前端"><span class="title">入门前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="入门前端"><span class="title">入门前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>知识库</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/01-HTML/html%E7%AC%94%E8%AE%B0.html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/02-CSS/CSS%E6%80%BB%E7%BB%93.html" class="" aria-label="CSS基础"><!--[--><!--]--> CSS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/02-CSS/CSS_Flex%E5%B8%83%E5%B1%80.html" class="" aria-label="flex 布局"><!--[--><!--]--> flex 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/03-JS%E5%9F%BA%E7%A1%80/JS%E5%9F%BA%E7%A1%80%E6%89%AB%E7%9B%B2.html" class="" aria-label="JS基础语法"><!--[--><!--]--> JS基础语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/03-JS%E5%9F%BA%E7%A1%80/JS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-ES6.html" class="" aria-label="JS常见问题"><!--[--><!--]--> JS常见问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/05-Vue2%E3%80%81Vue3/vue2/vue2%E6%A6%82%E8%A7%88.html" class="" aria-label="vue2 笔记概览"><!--[--><!--]--> vue2 笔记概览 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/05-Vue2%E3%80%81Vue3/vue3(%E5%9F%BA%E4%BA%8Evue2)/vue3(%E5%9F%BA%E4%BA%8Evue2%E5%AD%A6%E4%B9%A0).html" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/Promise.html" class="" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/axios.html" class="" aria-label="axios"><!--[--><!--]--> axios <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/webpack.html" class="" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/tabbar.html" class="" aria-label="TabBar"><!--[--><!--]--> TabBar <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/04-JS%E9%AB%98%E7%BA%A7" rel="noopener noreferrer" target="_blank" aria-label="JS高级"><!--[--><!--]--> JS高级 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进击前端"><span class="title">进击前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进击前端"><span class="title">进击前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>项目</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/project/cms-vue3/01-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E8%A7%84%E8%8C%83.html" class="" aria-label="后台管理系统"><!--[--><!--]--> 后台管理系统 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试题"><span class="title">面试题</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试题"><span class="title">面试题</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/JS%E7%AF%87/" class="" aria-label="JS手写题"><!--[--><!--]--> JS手写题 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/06-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95" rel="noopener noreferrer" target="_blank" aria-label="数据结构与算法"><!--[--><!--]--> 数据结构与算法 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/07-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" rel="noopener noreferrer" target="_blank" aria-label="计算机网络"><!--[--><!--]--> 计算机网络 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/leetcode-master" rel="noopener noreferrer" target="_blank" aria-label="LeetCode刷题顺序"><!--[--><!--]--> LeetCode刷题顺序 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂谈"><span class="title">杂谈</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂谈"><span class="title">杂谈</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin" rel="noopener noreferrer" target="_blank" aria-label="GitHub个人仓库"><!--[--><!--]--> GitHub个人仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/liyupi/code-roadmap/blob/main/docs/roadmap/Java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.md" rel="noopener noreferrer" target="_blank" aria-label="java学习路线"><!--[--><!--]--> java学习路线 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://baidu.com" rel="noopener noreferrer" target="_blank" aria-label="java基础笔记(待定)"><!--[--><!--]--> java基础笔记(待定) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="百度前端训练营作品"><span class="title">百度前端训练营作品</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="百度前端训练营作品"><span class="title">百度前端训练营作品</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>百度前端训练营</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E7%94%A8HTML%E5%AE%9E%E7%8E%B0%E4%BF%A1%E4%BB%B6demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="用HTML实现信件demo"><!--[--><!--]--> 用HTML实现信件demo <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E5%AE%9E%E7%8E%B0loading%E5%8A%A8%E7%94%BB/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现loading动画"><!--[--><!--]--> 实现loading动画 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E8%AE%B0%E4%BA%8B%E6%9C%AC/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="使用flex布局完成记事本"><!--[--><!--]--> 使用flex布局完成记事本 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day2/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E7%94%A8JS%E6%95%B0%E7%BB%84%E7%94%9F%E6%88%90HTML%E5%AD%97%E7%AC%A6/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="用JS数组生成HTML字符"><!--[--><!--]--> 用JS数组生成HTML字符 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E4%BB%BB%E6%84%8F%E5%B1%82%E7%BA%A7%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%91%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="任意层级的文件树数组转换为字符串"><!--[--><!--]--> 任意层级的文件树数组转换为字符串 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现深拷贝"><!--[--><!--]--> 实现深拷贝 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/%E6%95%B0%E5%AD%97%E6%97%B6%E9%92%9F/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="动态时钟"><!--[--><!--]--> 动态时钟 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day3/ToDoList/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="ToDoList"><!--[--><!--]--> ToDoList <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/homework-day4/%E5%AE%9E%E7%8E%B0%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%88%B0%E5%88%97%E8%A1%A8/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="实现添加一行数据到表格"><!--[--><!--]--> 实现添加一行数据到表格 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/01-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81/%E4%BD%BF%E7%94%A8Proxy%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81.html" class="" aria-label="学习：MVVM 数据劫持的实现"><!--[--><!--]--> 学习：MVVM 数据劫持的实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/02-%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html" class="" aria-label="学习：MVVM 发布订阅模式"><!--[--><!--]--> 学习：MVVM 发布订阅模式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/03-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A.html" class="" aria-label="学习：MVVM 数据单向绑定"><!--[--><!--]--> 学习：MVVM 数据单向绑定 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/project/baiduTrain/EndWork/04-%E5%AD%A6%E4%B9%A0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" class="" aria-label="学习：MVVM 数据双向绑定"><!--[--><!--]--> 学习：MVVM 数据双向绑定 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/project/baiduTrain/EndWork/" class="router-link-active router-link-exact-active router-link-active" aria-label="结课作业：实现一个简单的 MVVM 框架"><!--[--><!--]--> 结课作业：实现一个简单的 MVVM 框架 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="入门前端"><span class="title">入门前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="入门前端"><span class="title">入门前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>知识库</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/01-HTML/html%E7%AC%94%E8%AE%B0.html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/02-CSS/CSS%E6%80%BB%E7%BB%93.html" class="" aria-label="CSS基础"><!--[--><!--]--> CSS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/02-CSS/CSS_Flex%E5%B8%83%E5%B1%80.html" class="" aria-label="flex 布局"><!--[--><!--]--> flex 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/03-JS%E5%9F%BA%E7%A1%80/JS%E5%9F%BA%E7%A1%80%E6%89%AB%E7%9B%B2.html" class="" aria-label="JS基础语法"><!--[--><!--]--> JS基础语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/03-JS%E5%9F%BA%E7%A1%80/JS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-ES6.html" class="" aria-label="JS常见问题"><!--[--><!--]--> JS常见问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/05-Vue2%E3%80%81Vue3/vue2/vue2%E6%A6%82%E8%A7%88.html" class="" aria-label="vue2 笔记概览"><!--[--><!--]--> vue2 笔记概览 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/05-Vue2%E3%80%81Vue3/vue3(%E5%9F%BA%E4%BA%8Evue2)/vue3(%E5%9F%BA%E4%BA%8Evue2%E5%AD%A6%E4%B9%A0).html" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/Promise.html" class="" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/axios.html" class="" aria-label="axios"><!--[--><!--]--> axios <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/webpack.html" class="" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/06-promise%E3%80%81axios%E3%80%81webpack%E3%80%81tabbar/tabbar.html" class="" aria-label="TabBar"><!--[--><!--]--> TabBar <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/04-JS%E9%AB%98%E7%BA%A7" rel="noopener noreferrer" target="_blank" aria-label="JS高级"><!--[--><!--]--> JS高级 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进击前端"><span class="title">进击前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进击前端"><span class="title">进击前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>项目</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/project/cms-vue3/01-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E8%A7%84%E8%8C%83.html" class="" aria-label="后台管理系统"><!--[--><!--]--> 后台管理系统 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试题"><span class="title">面试题</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试题"><span class="title">面试题</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/JS%E7%AF%87/" class="" aria-label="JS手写题"><!--[--><!--]--> JS手写题 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/06-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95" rel="noopener noreferrer" target="_blank" aria-label="数据结构与算法"><!--[--><!--]--> 数据结构与算法 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/Study-notes/tree/main/07-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" rel="noopener noreferrer" target="_blank" aria-label="计算机网络"><!--[--><!--]--> 计算机网络 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin/leetcode-master" rel="noopener noreferrer" target="_blank" aria-label="LeetCode刷题顺序"><!--[--><!--]--> LeetCode刷题顺序 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="杂谈"><span class="title">杂谈</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="杂谈"><span class="title">杂谈</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/jsdevin" rel="noopener noreferrer" target="_blank" aria-label="GitHub个人仓库"><!--[--><!--]--> GitHub个人仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/liyupi/code-roadmap/blob/main/docs/roadmap/Java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.md" rel="noopener noreferrer" target="_blank" aria-label="java学习路线"><!--[--><!--]--> java学习路线 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://baidu.com" rel="noopener noreferrer" target="_blank" aria-label="java基础笔记(待定)"><!--[--><!--]--> java基础笔记(待定) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/project/baiduTrain/homework-day2/%E7%94%A8HTML%E5%AE%9E%E7%8E%B0%E4%BF%A1%E4%BB%B6demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="用HTML实现信件demo"><!--[--><!--]--> 用HTML实现信件demo <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day2/%E5%AE%9E%E7%8E%B0loading%E5%8A%A8%E7%94%BB/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="实现loading动画"><!--[--><!--]--> 实现loading动画 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day2/%E8%AE%B0%E4%BA%8B%E6%9C%AC/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="使用flex布局完成记事本"><!--[--><!--]--> 使用flex布局完成记事本 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day2/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1demo/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day3/%E7%94%A8JS%E6%95%B0%E7%BB%84%E7%94%9F%E6%88%90HTML%E5%AD%97%E7%AC%A6/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="用JS数组生成HTML字符"><!--[--><!--]--> 用JS数组生成HTML字符 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day3/%E4%BB%BB%E6%84%8F%E5%B1%82%E7%BA%A7%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%91%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="任意层级的文件树数组转换为字符串"><!--[--><!--]--> 任意层级的文件树数组转换为字符串 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day3/%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="实现深拷贝"><!--[--><!--]--> 实现深拷贝 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day3/%E6%95%B0%E5%AD%97%E6%97%B6%E9%92%9F/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="动态时钟"><!--[--><!--]--> 动态时钟 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day3/ToDoList/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="ToDoList"><!--[--><!--]--> ToDoList <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/homework-day4/%E5%AE%9E%E7%8E%B0%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%88%B0%E5%88%97%E8%A1%A8/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item sidebar-heading" aria-label="实现添加一行数据到表格"><!--[--><!--]--> 实现添加一行数据到表格 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/EndWork/01-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81/%E4%BD%BF%E7%94%A8Proxy%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81.html" class="sidebar-item sidebar-heading" aria-label="学习：MVVM 数据劫持的实现"><!--[--><!--]--> 学习：MVVM 数据劫持的实现 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/EndWork/02-%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html" class="sidebar-item sidebar-heading" aria-label="学习：MVVM 发布订阅模式"><!--[--><!--]--> 学习：MVVM 发布订阅模式 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/EndWork/03-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A.html" class="sidebar-item sidebar-heading" aria-label="学习：MVVM 数据单向绑定"><!--[--><!--]--> 学习：MVVM 数据单向绑定 <!--[--><!--]--></a><!----></li><li><a href="/project/baiduTrain/EndWork/04-%E5%AD%A6%E4%B9%A0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" class="sidebar-item sidebar-heading" aria-label="学习：MVVM 数据双向绑定"><!--[--><!--]--> 学习：MVVM 数据双向绑定 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="结课作业：实现一个简单的 MVVM 框架"><!--[--><!--]--> 结课作业：实现一个简单的 MVVM 框架 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/project/baiduTrain/EndWork/#基本要求" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本要求"><!--[--><!--]--> 基本要求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#前言-mvvm-模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="前言：MVVM 模式"><!--[--><!--]--> 前言：MVVM 模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#渲染系统模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染系统模块"><!--[--><!--]--> 渲染系统模块 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#响应式系统模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="响应式系统模块"><!--[--><!--]--> 响应式系统模块 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/project/baiduTrain/EndWork/#响应式原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="响应式原理"><!--[--><!--]--> 响应式原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#实现响应式系统模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="实现响应式系统模块"><!--[--><!--]--> 实现响应式系统模块 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#应用程序入口模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="应用程序入口模块"><!--[--><!--]--> 应用程序入口模块 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#测试此框架" class="router-link-active router-link-exact-active sidebar-item" aria-label="测试此框架"><!--[--><!--]--> 测试此框架 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/project/baiduTrain/EndWork/#线上发布版本" class="router-link-active router-link-exact-active sidebar-item" aria-label="线上发布版本"><!--[--><!--]--> 线上发布版本 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="结课作业-实现一个简单的-mvvm-框架" tabindex="-1"><a class="header-anchor" href="#结课作业-实现一个简单的-mvvm-框架" aria-hidden="true">#</a> 结课作业：实现一个简单的 MVVM 框架</h1><h2 id="基本要求" tabindex="-1"><a class="header-anchor" href="#基本要求" aria-hidden="true">#</a> 基本要求</h2><ul><li><a href="/project/baiduTrain/EndWork/01-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81/%E4%BD%BF%E7%94%A8Proxy%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81.html" class="">实现数据劫持</a></li><li><a href="/project/baiduTrain/EndWork/02-%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html" class="">实现发布订阅模式</a></li><li><a href="/project/baiduTrain/EndWork/03-%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8D%95%E5%90%91%E7%BB%91%E5%AE%9A.html" class="">实现数据单向绑定</a></li><li><a href="/project/baiduTrain/EndWork/04-%E5%AD%A6%E4%B9%A0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" class="">实现双向绑定</a></li></ul><p>要实现一个 MVVM 框架, 还得有：</p><ul><li>渲染系统模块</li><li>应用程序入口模块</li></ul><p>ps：本项目参考Vue3来实现</p><h2 id="前言-mvvm-模式" tabindex="-1"><a class="header-anchor" href="#前言-mvvm-模式" aria-hidden="true">#</a> 前言：MVVM 模式</h2><p>在开始项目前，我们需要先了解一下MVVM，得先知道什么是MVVM， MVVM 与我们平时经常使用 Vue 有什么区别。</p><ol><li><p>什么是MVVM呢？<br> MVVM 其实是一种思想，是一种生成模式。MVVM 表示的是 View-ViewModel-Model，就是视图层-视图模型层-模型层。View是作为视图层，简单来说可以把它理解为HTML页面；Model 是作为模型层，它是负责处理业务逻辑以及和服务器端进行交互的；ViewModel 是作为视图模型层，也就是 Vue 框架所起到的作用了，主要是作为 View 层和 Model 层之间的通信桥梁。<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207192320672.png" alt="mvvm作用过程"></p></li><li><p>vue 和 MVVM 的关系<br> MVVM 的设计思想是关注 Model 的变化，让 MVVM 框架去自动更新 DOM 的状态，从而把开发者从操作 DOM 的繁琐步骤中解脱出来。<br> 我们可以发现 vue 是符合 mvvm 的设计思想的。 Vue 将视图层 View 和模型层 Model 有效地分离开来，让我们只需要关心数据即可。基于这一点，<strong>Vue 框架就是充当了 MVVM 开发模式中的 ViewModel 层</strong>，负责 View 和 Model 之间通信的桥梁。我们在使用 Vue 框开发的时候，只需要关心 View 层的 HTML 代码和 Model 层的 JavaScript 逻辑就可以了。<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207200040761.png" alt="vue框架是ViewModel"></p></li></ol><p>参考文章： <a href="https://zhuanlan.zhihu.com/p/67960731" target="_blank" rel="noopener noreferrer">vue 与 mvvm 的关系<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="渲染系统模块" tabindex="-1"><a class="header-anchor" href="#渲染系统模块" aria-hidden="true">#</a> 渲染系统模块</h2><p>在开始完成项目的四个基本要求之前，我们可以先完成渲染系统模块，该模块主要包含三个功能.</p><ul><li>功能一是 h()函数,用于返回虚拟节点vNode对象, 该对象包含三样东西tag, props, children.</li><li>功能二是 mount函数，用于将vNode挂载到DOM上</li><li>功能三是 patch函数，用于对两个vNode进行对比，决定如何处理新的VNode</li></ul><ol><li><p>h() 生成虚拟节点<br> 通过h()函数将传入的三个参数渲染成一个虚拟DOM节点返回，h()函数的第一个参数是代表着<strong>标签</strong>的tag, 第二个参数是代表着<strong>属性</strong>的props, 第三个参数是children，代表的是第一个参数tag标签的<strong>内容</strong>，当然这个内容也可以是子节点。<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207230009622.png" alt="h()的代码"></p></li><li><p>mount() 将虚拟节点按照children中父子关系挂载，形成虚拟DOM树<br> mount()是挂载方法，其有两个参数，第一个参数vnode是需要被挂载的虚拟DOM节点，第二个参数是容纳第一个参数vnode(虚拟节点)的容器节点container．当所有的虚拟节点都按照各自children中的父子关系挂载好之后，就形成了虚拟DOM树。<br> 首先处理tag标签，利用h函数暴露出来的tag生成一个标签节点元素，并将元素存储到虚拟节点vnode中。<br> 然后处理props属性，如果是on开头，就监听事件，如果是普通的属性，就直接使用setAttribute来创建属性即可。<br> 最后处理children属性，如果是children是字符串，就直接设置textContent即可，如果是数组节点，就遍历调用mount函数，使其作为子节点挂载。<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207230012965.png" alt=""></p></li><li><p>patch(oldNode, newNode) 函数： 一个更新旧节点的函数. 实现思路如下</p></li></ol><ul><li><p>比较tag:<br> 如果旧节点含有的标签元素类型和新节点含有的标签元素类型不相同，直接删掉旧节点的标签，然后将新节点的标签添加进去即可。如果旧节点含有的标签元素和新节点含有的标签元素相同, 进行下一步</p></li><li><p>处理props:<br> 先将新节点的props属性全添加到旧节点，在添加的过程中遍历新节点的props，<br> 如果新节点的props的属性和旧节点的props属性含有一样的属性，但是二者的属性值不相同,那么我们就用setAttribute新建一个属性添加到老节点中，<br> 如果二者属性值相同,不做处理. 不需要考虑覆盖的的情况.只有相同的属性且其属性值也相同才保留,待全部添加完毕后,在旧节点中删除只存在于旧节点props但不存在于新节点props的属性, 剩下的都是patch处理之后的属性了</p></li><li><p>处理children:<br> 处理新节点的children需要先判断其类型,然后再进行处理,<br> 如果新节点的children是字符串,那就好办,直接使用innerHTML将字符串赋值给旧节点即可.无需考虑旧节点children的情况<br> 如果新节点的children是数组,就比较麻烦,我们就要依据旧节点的children的类型来进行处理<br>     如果旧节点的children的类型是string, 简简单单,直接清空旧节点的children,然后挂载新节点的children即可(因为已知新节点的children为数组)<br>     如果旧节点的children也是数组,此时新旧节点的children都是数组. 我们需要先判断新旧节点children的数组长度, 使用长度小的那个数组长度A作为遍历的判断停止条件, 来控制patch(oldchildren, newchildren)的执行次数.<br>             A次执行patch(oldchildren, newchildren)执行完之后,剩下的children数组元素就是仅存于一方的children中了,<br>             如果存在于新节点的children中(即newChildren.length &gt; oldChildren.length),就需要添加到旧节点中,添加方法就是直接遍历然后使用mount()挂载方法<br>             如果存在于旧节点的children中(即newChildren.length &lt; oldChildren.length),就需要删去,删除方法就是直接遍历然后使用removeChild()挂载方法</p></li></ul><p>patch()实现代码:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">patch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">oldNode<span class="token punctuation">,</span> newNode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    
  <span class="token comment">// 1. 处理tag.    </span>
  <span class="token comment">// 如果标签都不相同,直接获取旧节点标签的父元素,然后使用父元素的removeChild方法删除旧节点的标签,然后添加新的标签    </span>
  <span class="token comment">// 如果标签相同,不用处理,进行下一步即可    </span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>tag <span class="token operator">!==</span> newNode<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
    <span class="token keyword">const</span> oldNodeParent <span class="token operator">=</span> oldNode<span class="token punctuation">.</span>el<span class="token punctuation">.</span>parentElement    
    oldNodeParent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>    
    <span class="token function">mount</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> oldNodeParent<span class="token punctuation">)</span>    
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    
    <span class="token comment">// 取到el对象.    </span>
    <span class="token keyword">const</span> el <span class="token operator">=</span> newNode<span class="token punctuation">.</span>el <span class="token operator">=</span> oldNode<span class="token punctuation">.</span>el    
    <span class="token comment">// 2. 处理props    </span>
    <span class="token comment">// 2.1 将新节点的props全都添加到旧节点的props中,如果二者存在属性相同,但是属性值不相同的情况,就直接在旧节点中新建一个    </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> newNode<span class="token punctuation">.</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      <span class="token keyword">const</span> oldValue <span class="token operator">=</span>  oldNode<span class="token punctuation">.</span>props<span class="token punctuation">[</span>key<span class="token punctuation">]</span>    
      <span class="token keyword">const</span> newValue <span class="token operator">=</span>  newNode<span class="token punctuation">.</span>props<span class="token punctuation">[</span>key<span class="token punctuation">]</span>    
      <span class="token keyword">if</span><span class="token punctuation">(</span>oldValue <span class="token operator">!==</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 属性相同,但是属性值不相同    </span>
        el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token comment">// 直接新建一个好了,不使用覆盖的方法    </span>
      <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>    
    <span class="token comment">// 2.2 删除只存在于旧节点props中但是不存在于新节点props中的属性    </span>
    <span class="token keyword">const</span> oldProps <span class="token operator">=</span> oldNode<span class="token punctuation">.</span>props <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    
    <span class="token keyword">const</span> newProps <span class="token operator">=</span> newNode<span class="token punctuation">.</span>props <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> oldProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> newProps<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        el<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    
      <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>    
    
    <span class="token comment">// 3.处理children    </span>
    <span class="token keyword">const</span> oldChildren <span class="token operator">=</span> oldNode<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    
    <span class="token keyword">const</span> newChildren <span class="token operator">=</span> newNode<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    
    <span class="token comment">// 3.1 新节点的children类型是字符串,直接innerHTML方法即可    </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> newChildren <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 新节点的children类型是字符串    </span>
      oldChildren<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newChildren    
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 3.2 新节点的children类型是数组    </span>
      <span class="token comment">// 3.2.1 如果旧节点的children的类型是string, 简简单单,直接清空旧节点的children,然后挂载新节点的children即可    </span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> oldChildren <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>    
        newChildren<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    
          <span class="token function">mount</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> el<span class="token punctuation">)</span>    
        <span class="token punctuation">}</span><span class="token punctuation">)</span>    
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>     
      <span class="token comment">// 3.2.2 旧节点的children也是数组,此时新旧节点的children都是数组.我们需要先判断新旧节点children的数组长度,     </span>
      <span class="token comment">// 使用长度小的那个数组长度commonLength作为遍历的判断停止条件, 来控制patch(oldchildren, newchildren)的执行次数    </span>
        <span class="token comment">// 1) commonLength次执行patch(oldchildren, newchildren)执行完之后,    </span>
        <span class="token comment">// 剩下的children数组元素就是仅存于一方的children中了,     </span>
        <span class="token keyword">const</span> commonLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>oldChildren<span class="token punctuation">.</span>length<span class="token punctuation">,</span> newChildren<span class="token punctuation">.</span>length<span class="token punctuation">)</span>    
        <span class="token comment">// 举例测试:    </span>
          <span class="token comment">// oldChildren: [v1, v2, v3, v8, v9]    </span>
          <span class="token comment">// newChildren: [v1, v5, v6]    </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> commonLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
          <span class="token function">patch</span><span class="token punctuation">(</span>oldChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> newChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    
        <span class="token punctuation">}</span>    
    
        <span class="token comment">// 2) 如果存在于新节点的children中(即newChildren.length &gt; oldChildren.length),    </span>
        <span class="token comment">// 就需要添加到旧节点中,添加方法就是直接遍历然后使用mount()挂载方法    </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newChildren<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> oldChildren<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
          newChildren<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>commonLength<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    
            <span class="token function">mount</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> el<span class="token punctuation">)</span>    
          <span class="token punctuation">}</span><span class="token punctuation">)</span>    
        <span class="token punctuation">}</span>    
    
        <span class="token comment">// 3) 如果存在于旧节点的children中(即newChildren.length &lt; oldChildren.length),    </span>
        <span class="token comment">// 就需要删去,删除方法就是直接遍历然后使用removeChild()挂载方法    </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newChildren<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> oldChildren<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
          oldChildren<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>commonLength<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    
            el<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>el<span class="token punctuation">)</span>    
          <span class="token punctuation">}</span><span class="token punctuation">)</span>    
        <span class="token punctuation">}</span>    
      <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>    
  <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>渲染系统模块完成效果预览:<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207190205314.gif" alt=""></p><h2 id="响应式系统模块" tabindex="-1"><a class="header-anchor" href="#响应式系统模块" aria-hidden="true">#</a> 响应式系统模块</h2><p>数据劫持、发布订阅模式、单向绑定、双向绑定皆属于响应式系统模块的内容。</p><h3 id="响应式原理" tabindex="-1"><a class="header-anchor" href="#响应式原理" aria-hidden="true">#</a> 响应式原理</h3><p>在了解了mvvm模式之后，我们可以很清晰地了解到什么是响应式原理，响应式原理就是在改变数据的时候，视图会跟着更新。往大点说，响应系统是一种自动使数据源（模型）与数据表示（视图）层自动保持同步的机制。每次模型更改时，都会重新渲染视图。<br> 同时我们需要了解的是，响应式原理就是双向绑定原理，二者是同样的东西，只是叫法不同。</p><ul><li>补充：vue2、vue3 的响应式原理分布是什么？</li></ul><ol><li><p>在vue2中用Object.defineProperty()来实现响应式原理<br> Vue2的实现原理 是通过 Object.defineProperty 来劫持各个属性的setter、getter，在数据变动时发布消息给订阅者，触发相应的监听回调。<br> vue2使用Object.defineProperty来实现响应式原理有着许多缺陷，比如不能监听数组，也无法检测到对象属性的添加和删除，并且只有data对象中的属性才能转化为响应式。</p></li><li><p>在vue3中用Proxy来实现响应式原理<br> Vue3中响应式原理就是当需要对某个对象操作时，会先生成一个代理对象，并且我们数据劫持时劫持到的也是代理对象，我们所有的操作都将会在代理对象中完成，然后返回。<br> 基于Proxy, 劫持的是一整个代理对象，并且Proxy提供了has()、deleteProperty等捕获器，可以非常轻易地去添加对象属性和删除对象属性。</p></li></ol><ul><li>思考： 为什么Vue3选择使用Proxy来实现响应式？<br> （1）Object.definedProperty 是劫持对象的属性时，如果新增元素，那么Vue2需要再次 调用definedProperty，而 Proxy 劫持的是整个对象，不需要做特殊处理。这是Proxy的第一个优势<br> （2）vue2使用Object.definedProperty，修改原本对象就能触发拦截，而Vue3使用Proxy，需要修改代理对象才能出发拦截，一切操作不通过原对象实现，这样子原对象就不会发生任何改变，保护了原对象。这是Proxy的第二个优势<br> （3）Proxy 能观察的类型比 defineProperty 更丰富，Proxy有has()方法和deleteProperty()方法，他们分别是in操作符的捕获器和delete 操作符的捕捉器。这是Proxy的第三个优势</li></ul><p>参考文章：<br><a href="https://juejin.cn/post/6982001553540382733#heading-1" target="_blank" rel="noopener noreferrer">vue2、vue3响应式原理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br><a href="https://www.yisu.com/zixun/457735.html" target="_blank" rel="noopener noreferrer">什么是vue响应式系统？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="实现响应式系统模块" tabindex="-1"><a class="header-anchor" href="#实现响应式系统模块" aria-hidden="true">#</a> 实现响应式系统模块</h3><p>响应式系统模块的实现前需要先实现依赖收集系统，在没有考虑vue2的 Object.definedProperty 和vue3的 Proxy 的情况下，我们实现一个简单版的依赖收集模系统。</p><ol><li><p>简单版 - 依赖收集系统</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 简易版的依赖收集系统  </span>
<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>  
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用集合来存储订阅事件。  </span>
  <span class="token punctuation">}</span>  

  <span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 将需要响应的事件设置为依赖，可以通过notify()来遍历依赖出来  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeEffect<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activeEffect<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将需要响应的事件添加到集合中  </span>
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>  

  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 输出集合中的依赖  </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">effect</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历集合并执行子项  </span>
      <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  

<span class="token comment">// 前言: 我们认为数据发生变化会引发事件发生响应的效果是副作用。 所以将变量名设置为effect  </span>

<span class="token keyword">let</span> activeEffect <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 初始状态是没有副作用的，所以指向null  </span>
<span class="token keyword">function</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token parameter">effect</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 监听副作用，如果数据变化，就会有副作用的发生  </span>
  activeEffect <span class="token operator">=</span> effect<span class="token punctuation">;</span> <span class="token comment">// 将数据变化产生的副作用设置为当前的副作用  </span>
  <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 副作用执行一下，在控制台输出原本的值用于比较.这一步可省略  </span>
  dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 调用depend(), 将副作用添加到依赖中，会自动发生响应  </span>
  activeEffect <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 重新将当前的副作用设置为空，方便接待下一次的副作用传入  </span>
<span class="token punctuation">}</span>  


<span class="token comment">// 测试代码  </span>
<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;why&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.88</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  

<span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// watchEffect()执行需要用到dep  </span>

<span class="token comment">// watchEffect1  </span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;effect1:&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>counter <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>  

<span class="token comment">// watchEffect2  </span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;effect2:&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>counter <span class="token operator">*</span> info<span class="token punctuation">.</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>  

<span class="token comment">// watchEffect3  </span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;effect3:&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>counter <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>  

<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;effect4:&quot;</span><span class="token punctuation">,</span> foo<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>  

<span class="token comment">// info.counter++;  </span>
<span class="token comment">// info.name = &quot;why&quot;;  </span>
foo<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>   

dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>// 无论<code>info.counter++; info.name = &quot;why&quot;; foo.height = 2; </code>这三个执行哪一个，notify()都会去遍历所有的依赖，然后执行。这是缺陷<br> // 因为对于多个对象，如果我们只是改变其中一个对象的属性，我们当然只希望去响应当前的对象即可，不需要去响应其它对象的依赖。<br> // 比如上面的info对象和foo对象, 我们改变了foo.height属性,我们只需要foo对象对应的依赖响应即可,不需要去响应info对象的依赖.<br> // 但是这里notify()的设计原理是对this.subscribers集合进行forEach()遍历, 无论是任何对象的任何属性发生改变,势必都会使得所有的依赖被遍历出来并执行.<br> // 所以这个是不合格的, 需要继续完善.</p><p>// 打印结果:<br> effect1: 200 why<br> effect2: 10000<br> effect3: 110 why<br> effect4: 1.88<br> effect1: 200 why<br> effect2: 10000<br> effect3: 110 why<br> effect4: 2</p><p>// 解析结果:<br> // 前四行是在watchEffect()中执行effect()打印出来的原本的数据, 用作对比<br> // 后四行是dep.notify()输出的响应结果</p><p>// 总结:<br> // 简单的依赖收集系统的思路到此结束.<br> // 存在的缺陷: 使用dep.notify()只会一股脑地输出集合中所有对象的所有依赖, 不能实现改变A对象的属性, 就响应A对象该属性依赖</p></li><li><p>vue2思想完善依赖收集系统 =&gt; 响应式系统<br> 添加下图这一块，实现响应式。基于 Object.defineProperty 劫持的是对象的某个属性，针对某个属性收集依赖，不影响到同一对象的其它属性，也不影响到其它对象。可以在文件中查看完整的源代码。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Map({key: value}): key是一个字符串  </span>
<span class="token comment">// WeakMap({key(对象): value}): key是一个对象, 弱引用, 方便设置为null进行垃圾回收  </span>
<span class="token keyword">const</span> targetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// targetMap 用来存储所有对象的映射  </span>
<span class="token keyword">function</span> <span class="token function">getDep</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token comment">// 1.根据对象(target)取出对应的Map对象  </span>
  <span class="token keyword">let</span> depsMap <span class="token operator">=</span> targetMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用当前对象target作为key去查询所有映射targetMap中的value, 并将value赋值为depsMap  </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>depsMap<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果depsMap的值为空, 则表示没有此映射, 本次是第一次有关该对象target的依赖收集吗, 我们为value新建一个Map即可  </span>
    depsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    targetMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> depsMap<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给新的映射关系添加到所有对象的映射中  </span>
  <span class="token punctuation">}</span>  

  <span class="token comment">// 2.取出具体的dep对象  </span>
  <span class="token keyword">let</span> dep <span class="token operator">=</span> depsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取target对象的特定的属性对应的依赖  </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dep<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果没有这个属性对应的依赖, 就新建一个  </span>
    dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    depsMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> dep<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  <span class="token keyword">return</span> dep<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  

<span class="token comment">// vue2对raw进行数据劫持  </span>
<span class="token keyword">function</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token parameter">raw</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// raw 代表的是未加工过的数据  </span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Object.keys(raw) 是获取raw的所有属性.  </span>
    <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token function">getDep</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将对象和属性传入getDep()中, 就能获得该属性对应的响应依赖  </span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> raw<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>  

    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">// 加工.数据劫持  </span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将该响应依赖添加到依赖集合中  </span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>  
      <span class="token punctuation">}</span><span class="token punctuation">,</span>  
      <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
          value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>  
          <span class="token comment">// 这个dep指的是const dep = getDep(raw, key) 创建出来的某个特定属性的响应依赖. 这里只会响应该依赖.   </span>
          <span class="token comment">// 不会导致其它对象的依赖发生响应, 甚至不会使得同一个对象的其他属性的依赖响应  </span>
          dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span><span class="token punctuation">)</span>  
  <span class="token keyword">return</span> raw<span class="token punctuation">;</span> <span class="token comment">// 返回的是加工后的整个对象  </span>
<span class="token punctuation">}</span>  

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果：<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207200035016.png" alt="结果"></p></li><li><p>vue3思想完善依赖收集系统 =&gt; 响应式系统<br> 添加下图这一块，实现响应式。基于 Proxy 劫持的是整个对象。对对象进行操作都会引起劫持。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Map({key: value}): key是一个字符串  </span>
<span class="token comment">// WeakMap({key(对象): value}): key是一个对象, 弱引用, 方便设置为null进行垃圾回收  </span>
<span class="token keyword">const</span> targetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// targetMap 用来存储所有对象的映射  </span>
<span class="token keyword">function</span> <span class="token function">getDep</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 实现一个属性一个容器  </span>
  <span class="token comment">// 1.根据对象(target)取出对应的Map对象  </span>
  <span class="token keyword">let</span> depsMap <span class="token operator">=</span> targetMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用当前对象target作为key去查询所有映射targetMap中的value, 并将value赋值为depsMap  </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>depsMap<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果depsMap的值为空, 则表示没有此映射, 本次是第一次有关该对象target的依赖收集吗, 我们为value新建一个Map即可  </span>
    depsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    targetMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> depsMap<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给新的映射关系添加到所有对象的映射中  </span>
  <span class="token punctuation">}</span>  

  <span class="token comment">// 2.取出具体的dep对象  </span>
  <span class="token keyword">let</span> dep <span class="token operator">=</span> depsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取target对象的特定的属性对应的依赖  </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dep<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果没有这个属性对应的依赖, 就新建一个  </span>
    dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    depsMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> dep<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  <span class="token keyword">return</span> dep<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  

<span class="token comment">// vue3对raw进行数据劫持.  </span>
<span class="token keyword">function</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token parameter">raw</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">// 用Proxy创建一个代理对象  </span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token function">getDep</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建对象特定属性的依赖容器 -- 实现一个属性一个容器  </span>
      dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将该响应添加到依赖容器中  </span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token function">getDep</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建对象特定属性对应的依赖容器  </span>
      target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> newValue<span class="token punctuation">;</span> <span class="token comment">// 给属性设置新的值  </span>
      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给属性设置新的值使得属性值发生改变, 应该要响应告知并作响应处理.  </span>
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果：<br><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207200037945.png" alt=""></p></li></ol><p>注意：这里的是vue响应式的核心代码，没有考虑边界情况，后续如果有机会回顾的话，可以考虑补充一下边界情况。</p><h2 id="应用程序入口模块" tabindex="-1"><a class="header-anchor" href="#应用程序入口模块" aria-hidden="true">#</a> 应用程序入口模块</h2><p>这一个模块的主要作用是将设置一个程序入口，将所有东西串联起来。createApp 会创建一个程序的开端，传入的参数是根组件，返回的结果是挂载好根组件的对象。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token parameter">rootComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// rootComponent参数传入的是根组件  </span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token comment">// 返回的是一个对象，然后用这个对象去挂载根节点  </span>
    <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// selector参数会传入根节点  </span>
      <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 搜索这个根节点。并将之作为容器接纳后面的子节点  </span>
      <span class="token keyword">let</span> isMounted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 判断是不是第一次进入这里，如果是第一次进入这里，就是挂载根节点(根组件)。如果不是第一次进入这里，就是重新渲染根组件  </span>
      <span class="token keyword">let</span> oldVNode <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
  
      <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// watchEffect 负责监听副作用  </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 第一次使用createApp()进入这里，需要将根组件中render()的返回值渲染成为虚拟节点，然后挂载到根节点中(此时真实DOM只有根结点，直接挂载即可)  </span>
          oldVNode <span class="token operator">=</span> rootComponent<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
          <span class="token function">mount</span><span class="token punctuation">(</span>oldVNode<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span>   
          isMounted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 将isMounted设置为true， 代表的是已经进入过这里了，后面就是要比较新旧节点了  </span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
          <span class="token keyword">const</span> newVNode <span class="token operator">=</span> rootComponent<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
          <span class="token function">patch</span><span class="token punctuation">(</span>oldVNode<span class="token punctuation">,</span> newVNode<span class="token punctuation">)</span><span class="token punctuation">;</span>  
          oldVNode <span class="token operator">=</span> newVNode<span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="测试此框架" tabindex="-1"><a class="header-anchor" href="#测试此框架" aria-hidden="true">#</a> 测试此框架</h2><p>测试样例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>  
  
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>  
  
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./core/renderer.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./core/reactive.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./core/createApp.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
  
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>  
    <span class="token comment">// 1.创建根组件  </span>
    <span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">{</span>  
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Devin&#39;</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">0</span>  
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>  
          <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;h2&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">测试单向绑定name：{{name}}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
          <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;h2&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">测试双向绑定当前计数counter: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>counter<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
          <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  
            <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
              <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>counter<span class="token operator">++</span>  
            <span class="token punctuation">}</span>  
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;计数+1&quot;</span><span class="token punctuation">)</span>  
        <span class="token punctuation">]</span><span class="token punctuation">)</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token comment">// 2.挂载根组件  </span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
  
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试结果：</p><p><img src="https://cdn.jsdelivr.net/gh/jsdevin/imgBed/img/202207222355808.gif" alt="测试结果"></p><h2 id="线上发布版本" tabindex="-1"><a class="header-anchor" href="#线上发布版本" aria-hidden="true">#</a> 线上发布版本</h2><p><a href="https://baidumvvm.devin.ren/" target="_blank" rel="noopener noreferrer">线上版本点击这里查看<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br><a href="https://github.com/jsdevin/Mini-Vue3" target="_blank" rel="noopener noreferrer">源代码托管于github, 点击这里查看<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>本项目学习自互联网。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/project/baiduTrain/EndWork/04-%E5%AD%A6%E4%B9%A0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A.html" class="" aria-label="学习：MVVM 数据双向绑定"><!--[--><!--]--> 学习：MVVM 数据双向绑定 <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.fe9e5216.js" defer></script>
  </body>
</html>
